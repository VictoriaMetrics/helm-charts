suite: hpa templates test
chart:
  version: 0.1.1
  appVersion: 0.1.0
templates:
  - hpa.yaml
tests:
  - it: hpa should match snapshot
    set:
      vmauth:
        enabled: true
        extraLabels:
          extraLabelName: authExtraLabelValue
        horizontalPodAutoscaler:
          enabled: true
      vlinsert:
        extraLabels:
          extraLabelName: insertExtraLabelValue
        horizontalPodAutoscaler:
          enabled: true
      vlselect:
        extraLabels:
          extraLabelName: selectExtraLabelValue
        horizontalPodAutoscaler:
          enabled: true
      vlstorage:
        extraLabels:
          extraLabelName: storageExtraLabelValue
        horizontalPodAutoscaler:
          enabled: true
    asserts:
      - matchSnapshot: {}
  - it: hpa should match snapshot with fullnameOverride and extraLabels
    set:
      vlinsert:
        name: insert
        fullnameOverride: vlinsert-node
        extraLabels:
          extraLabelName: insertExtraLabelValue
        horizontalPodAutoscaler:
          enabled: true
      vmauth:
        enabled: true
        name: auth
        fullnameOverride: vmauth-node
        extraLabels:
          extraLabelName: authExtraLabelValue
        horizontalPodAutoscaler:
          enabled: true
      vlselect:
        name: select
        fullnameOverride: vlselect-node
        extraLabels:
          extraLabelName: selectExtraLabelValue
        horizontalPodAutoscaler:
          enabled: true
      vlstorage:
        name: storage
        fullnameOverride: vlstorage-node
        extraLabels:
          extraLabelName: storageExtraLabelValue
        horizontalPodAutoscaler:
          enabled: true
    asserts:
      - matchSnapshot: {}
