daemonSet should match snapshot:
  1: |
    apiVersion: v1
    data:
      vector.yaml: |
        data_dir: /vl-collector
        sources:
          k8s:
            type: kubernetes_logs
            pod_annotation_fields:
              # Disable "pod_ips" as "pod_ip" already includes required info
              pod_ips: ""
        transforms:
          json_parser:
            type: remap
            inputs: [k8s]
            source: |
              .message = parse_json(.message) ?? .message
        sinks:
          remote_write_0:
            type: http
            inputs: [json_parser]
            uri: "http://victoria-logs:9428/insert/jsonline"
            encoding:
              codec: json
            framing:
              method: newline_delimited
            healthcheck:
              enabled: false
            request:
              headers:
                AccountID: "0"
                ProjectID: "0"
                VL-Stream-Fields: kubernetes.pod_name,kubernetes.container_name,kubernetes.pod_namespace
                VL-Msg-Field: message
                VL-Time-Field: timestamp
            compression: "zstd"
    kind: ConfigMap
    metadata:
      labels:
        app.kubernetes.io/instance: RELEASE-NAME
        app.kubernetes.io/managed-by: Helm
        app.kubernetes.io/name: victoria-logs-collector
        app.kubernetes.io/version: 0.1.0
        helm.sh/chart: victoria-logs-collector-0.1.1
      name: RELEASE-NAME-victoria-logs-collector-config
  2: |
    apiVersion: apps/v1
    kind: DaemonSet
    metadata:
      labels:
        app.kubernetes.io/instance: RELEASE-NAME
        app.kubernetes.io/managed-by: Helm
        app.kubernetes.io/name: victoria-logs-collector
        app.kubernetes.io/version: 0.1.0
        helm.sh/chart: victoria-logs-collector-0.1.1
      name: RELEASE-NAME-victoria-logs-collector
    spec:
      selector:
        matchLabels:
          app.kubernetes.io/instance: RELEASE-NAME
          app.kubernetes.io/name: victoria-logs-collector
      template:
        metadata:
          annotations:
            checksum/config: 4d48db702a3eee6969dfc603924253136385e307ad8aa6a1281df9a3f9869e87
          labels:
            app.kubernetes.io/instance: RELEASE-NAME
            app.kubernetes.io/managed-by: Helm
            app.kubernetes.io/name: victoria-logs-collector
        spec:
          containers:
            - env:
                - name: VECTOR_SELF_NODE_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: spec.nodeName
              image: docker.io/timberio/vector:0.51.0-alpine
              imagePullPolicy: IfNotPresent
              name: victoria-logs-collector
              securityContext: {}
              volumeMounts:
                - mountPath: /var/log
                  name: varlog
                  readOnly: true
                - mountPath: /var/lib
                  name: varlib
                  readOnly: true
                - mountPath: /etc/vector
                  name: config
                  readOnly: true
                - mountPath: /vl-collector
                  name: vl-collector-data
          securityContext: {}
          serviceAccountName: RELEASE-NAME-victoria-logs-collector
          volumes:
            - hostPath:
                path: /var/log
              name: varlog
            - hostPath:
                path: /var/lib
              name: varlib
            - configMap:
                name: RELEASE-NAME-victoria-logs-collector-config
              name: config
            - hostPath:
                path: /var/lib/vl-collector
              name: vl-collector-data
  3: |
    apiVersion: rbac.authorization.k8s.io/v1
    kind: ClusterRole
    metadata:
      labels:
        app.kubernetes.io/instance: RELEASE-NAME
        app.kubernetes.io/managed-by: Helm
        app.kubernetes.io/name: victoria-logs-collector
        app.kubernetes.io/version: 0.1.0
        helm.sh/chart: victoria-logs-collector-0.1.1
      name: RELEASE-NAME-victoria-logs-collector
    rules:
      - apiGroups:
          - ""
        resources:
          - nodes
          - namespaces
          - pods
        verbs:
          - get
          - list
          - watch
  4: |
    apiVersion: rbac.authorization.k8s.io/v1
    kind: ClusterRoleBinding
    metadata:
      labels:
        app.kubernetes.io/instance: RELEASE-NAME
        app.kubernetes.io/managed-by: Helm
        app.kubernetes.io/name: victoria-logs-collector
        app.kubernetes.io/version: 0.1.0
        helm.sh/chart: victoria-logs-collector-0.1.1
      name: RELEASE-NAME-victoria-logs-collector
    roleRef:
      apiGroup: rbac.authorization.k8s.io
      kind: ClusterRole
      name: RELEASE-NAME-victoria-logs-collector
    subjects:
      - kind: ServiceAccount
        name: RELEASE-NAME-victoria-logs-collector
        namespace: NAMESPACE
  5: |
    apiVersion: v1
    automountServiceAccountToken: true
    kind: ServiceAccount
    metadata:
      annotations: {}
      labels:
        app.kubernetes.io/instance: RELEASE-NAME
        app.kubernetes.io/managed-by: Helm
        app.kubernetes.io/name: victoria-logs-collector
        app.kubernetes.io/version: 0.1.0
        helm.sh/chart: victoria-logs-collector-0.1.1
      name: RELEASE-NAME-victoria-logs-collector
