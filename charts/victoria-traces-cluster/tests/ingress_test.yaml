suite: ingress templates test
chart:
  version: 0.1.1
  appVersion: 0.1.0
templates:
  - ingress.yaml
tests:
  - it: ingress should match snapshot
    set:
      vmauth:
        enabled: true
        ingress:
          enabled: true
          annotations:
            kubernetes.io/ingress.class: nginx
          hosts:
            - name: vtselect.node.local
              path: /select/test
              port: http
      vtinsert:
        ingress:
          enabled: true
          annotations: 
            kubernetes.io/ingress.class: alb
          tls:
            - secretName: insert-ingress-tls
              hosts:
                - insert.local
      vtselect:
        ingress:
          enabled: true
          annotations: 
            kubernetes.io/ingress.class: kong
    asserts:
      - matchSnapshot: {}
